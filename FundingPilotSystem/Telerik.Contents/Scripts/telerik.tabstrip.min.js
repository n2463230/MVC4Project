(function(n){var t=n.telerik;t.scripts.push("telerik.tabstrip.js"),t.tabstrip=function(i,r){var u,f,e,o;this.element=i,u=n(i),this.$contentElements=u.find("> .t-content"),n.extend(this,r),this.contentUrls&&u.find(".t-tabstrip-items > .t-item").each(n.proxy(function(t,i){n(i).find(".t-link").data("ContentUrl",this.contentUrls[t])},this)),f=".t-tabstrip-items > .t-item:not(.t-state-disabled)",u.delegate(f,"mouseenter",t.hover).delegate(f,"mouseleave",t.leave).delegate(f,r.activateEvent,t.delegate(this,this._click)).delegate(".t-tabstrip-items > .t-state-disabled .t-link","click",t.preventDefault),t.bind(this,{select:n.proxy(function(t){t.target==this.element&&this.onSelect&&n.proxy(this.onSelect,this.element)(t)},this),contentLoad:this.onContentLoad,error:this.onError,load:this.onLoad}),e=u.find("li.t-state-active"),o=n(this.getContentElement(e.parent().children().index(e))),o.length>0&&o[0].childNodes.length==0&&this.activateTab(e.eq(0))},n.extend(t.tabstrip.prototype,{select:function(t){n(t).each(n.proxy(function(t,i){var r=n(i);r.is(".t-state-disabled,.t-state-active")||this.activateTab(r)},this))},enable:function(t){n(t).addClass("t-state-default").removeClass("t-state-disabled")},disable:function(t){n(t).removeClass("t-state-default").removeClass("t-state-active").addClass("t-state-disabled")},reload:function(t){var i=this;n(t).each(function(){var t=n(this),r=t.find(".t-link").data("ContentUrl");r&&i.ajaxRequest(t,n(i.getContentElement(t.index())),null,r)})},_click:function(i,r){var u=n(r),o=u.find(".t-link"),f=o.attr("href"),e=n(this.getContentElement(u.index())),s;if(u.is(".t-state-disabled,.t-state-active")){i.preventDefault();return}if(t.trigger(this.element,"select",{item:u[0],contentElement:e[0]}))i.preventDefault();else{if(s=o.data("ContentUrl")||f&&(f.charAt(f.length-1)=="#"||f.indexOf("#"+this.element.id+"-")!=-1),!f||s||e.length>0&&e[0].childNodes.length==0)i.preventDefault();else return;this.activateTab(u)&&i.preventDefault()}},activateTab:function(i){var h=i.parent().children().removeClass("t-state-active").addClass("t-state-default").index(i),e,s,o;if(i.removeClass("t-state-default").addClass("t-state-active"),e=this.$contentElements,e.length==0)return!1;var u=e.filter(".t-state-active"),r=n(this.getContentElement(h)),f=this;return r.length==0?(u.removeClass("t-state-active"),t.fx.rewind(f.effects,u,{}),!1):(s=r.is(":empty"),o=function(){r.addClass("t-state-active"),t.fx.play(f.effects,r,{})},u.removeClass("t-state-active").stop(!1,!0),t.fx.rewind(f.effects,u,{},function(){i.hasClass("t-state-active")&&(s?f.ajaxRequest(i,r,function(){i.hasClass("t-state-active")&&o()}):o())}),!0)},getSelectedTabIndex:function(){return n(this.element).find("li.t-state-active").index()},getContentElement:function(n){var i,r,t,u;if(!isNaN(+n))for(i=this.$contentElements,r=new RegExp("-"+(n+1)+"$"),t=0,u=i.length;t<u;t++)if(r.test(i[t].id))return i[t]},ajaxRequest:function(i,r,u,f){if(!i.find(".t-loading").length){var e=i.find(".t-link"),o=null,s=setTimeout(function(){o=n('<span class="t-icon t-loading"><\/span>').prependTo(e)},100);n.ajax({type:"GET",cache:!1,url:f||e.data("ContentUrl")||e.attr("href"),dataType:"html",data:{},error:n.proxy(function(n,i){t.ajaxError(this.element,"error",n,i)},this),complete:function(){clearTimeout(s),o!==null&&o.remove()},success:n.proxy(function(n){r.html(n),u&&u.call(this,r),t.trigger(this.element,"contentLoad",{item:i[0],contentElement:r[0]})},this)})}}}),n.fn.tTabStrip=function(n){return t.create(this,{name:"tTabStrip",init:function(n,i){return new t.tabstrip(n,i)},options:n})},n.fn.tTabStrip.defaults={activateEvent:"click",effects:t.fx.toggle.defaults()}})(jQuery);