(function(n){function f(n){return s.test(n)}function e(n){return o.test(n)}function i(n){return!f(n)&&!e(n)}function u(t,i){return function(r,u){var f=n(r).data("pane");if(arguments.length==1)return f[t];f[t]=u,i&&this.$element.trigger("resize")}}var t=n.telerik,r=7,o=/^\d+px$/i,s=/^\d+(\.\d+)?%$/i;t.scripts.push("telerik.splitter.js"),t.splitter=function(i,r){var o,u,f,e;this.element=i,o=this.$element=n(i),u=this,n.extend(this,r),f=this.orientation.toLowerCase()!="vertical"?"horizontal":"vertical",e=this.panes,this.orientation=f,t.bind(this,{load:this.onLoad,expand:this.onExpand,collapse:this.onCollapse,contentLoad:this.onContentLoad,resize:function(t){t.stopPropagation(),u.resize.call(u,t),n.isFunction(u.onResize)&&u.onResize.call(i,t)}});var s=".t-splitbar-draggable-"+f,h=".t-splitbar .t-icon:not(.t-resize-handle)",c=function(r){return function(f){var e=n(f.target),o;e.closest(".t-splitter")[0]==i&&(o=e.is(".t-"+r+"-prev")?e.parent().prev():e.parent().next(),t.trigger(i,r,{pane:o[0]})||u[r](o[0]))}};o.addClass("t-widget").addClass("t-splitter").children().addClass("t-pane").each(n.proxy(function(t,i){var r=n(i);r.data("pane",e?e[t]:{}).toggleClass("t-scrollable",e?e[t].scrollable!==!1:!0),this.ajaxRequest(r)},this)).end().trigger("resize").delegate(s,"mouseenter",function(){n(this).addClass("t-splitbar-"+f+"-hover")}).delegate(s,"mouseleave",function(){n(this).removeClass("t-splitbar-"+f+"-hover")}).delegate(h,"mouseenter",t.hover).delegate(h,"mouseleave",t.leave).delegate(".t-splitbar .t-collapse-next, .t-splitbar .t-collapse-prev","click",c("collapse")).delegate(".t-splitbar .t-expand-next, .t-splitbar .t-expand-prev","click",c("expand")).delegate(".t-splitbar","dblclick",function(r){var f=n(r.target),o=function(n,r){t.trigger(i,n,{pane:r[0]})||u[n](r[0])},e;f.closest(".t-splitter")[0]==i&&(e=f.children(".t-icon:not(.t-resize-handle)"),e.length===1)&&(e.is(".t-collapse-prev")?o("collapse",f.prev()):e.is(".t-collapse-next")?o("collapse",f.next()):e.is(".t-expand-prev")?o("expand",f.prev()):e.is(".t-expand-next")&&o("expand",f.next()))}).parent().closest(".t-splitter").bind("resize",function(){o.trigger("resize")}),this.resizing=new t.splitter.PaneResizing(this)},t.splitter.prototype={toggle:function(t,i){var t=n(t),h=t.prev(".t-splitbar"),c=t.next(".t-splitbar"),r=t.data("pane"),u=t.prevAll(".t-pane:first").data("pane"),f=t.nextAll(".t-pane:first").data("pane"),e=this.orientation,o="t-splitbar-"+e+"-hover",s="t-splitbar-draggable-"+e;arguments.length==1&&(i=r.collapsed===undefined?!1:r.collapsed),h.toggleClass(s,i&&r.resizable!==!1&&(!u||u.resizable!==!1)).removeClass(o).find(i?".t-expand-next":".t-collapse-next").toggleClass("t-expand-next",!i).toggleClass("t-collapse-next",i),c.toggleClass(s,i&&r.resizable!==!1&&(!f||f.resizable!==!1)).removeClass(o).find(i?".t-expand-prev":".t-collapse-prev").toggleClass("t-expand-prev",!i).toggleClass("t-collapse-prev",i),r.collapsed=!i,this.$element.trigger("resize")},collapse:function(n){this.toggle(n,!1)},expand:function(n){this.toggle(n,!0)},size:u("size",!0),minSize:u("minSize"),maxSize:u("maxSize"),ajaxOptions:function(i,r){var u=this;return n.extend({type:"POST",dataType:"html",success:function(n){i.html(n),t.trigger(u.element,"contentLoad",{pane:i[0]})}},r)},ajaxRequest:function(t,i,r){var u=n(t),f=u.data("pane");(i||f.contentUrl)&&(u.append("<span class='t-icon t-loading t-pane-loading' />"),n.ajax(this.ajaxOptions(u,{url:i||f.contentUrl,data:r||{}})))},resize:function(){var o=this.$element,w=o.children(":not(.t-splitbar):not(.t-ghost-splitbar)"),c=this.orientation=="horizontal",l=o.children(".t-splitbar").length,a=c?"width":"height",s=o[a](),v,k,y,h,d;if(l===0)for(l=w.length-1,v=0;v<l;v++){var b=w.eq(v),e=b.data("pane"),u=b.next().data("pane");u&&(k=e.resizable!==!1&&u.resizable!==!1,y=new t.stringBuilder,y.catIconIf=function(n,t){return t&&this.cat("<div class='t-icon ").cat(n).cat("' />"),this},y.cat("<div class='t-splitbar t-state-default t-splitbar-").cat(this.orientation).catIf(" t-splitbar-draggable-",this.orientation,k&&!e.collapsed&&!u.collapsed).cat("'>").catIconIf("t-collapse-prev",e.collapsible&&!e.collapsed).catIconIf("t-expand-prev",e.collapsible&&e.collapsed).catIconIf("t-resize-handle",k).catIconIf("t-collapse-next",u.collapsible&&!u.collapsed).catIconIf("t-expand-next",u.collapsible&&u.collapsed).cat("<\/div>"),b.after(y.string()))}s-=r*l;var g=0,it=0,p=n();w.css({position:"absolute",top:0})[a](function(){var t=n(this).data("pane"),r;if(!t.collapsed&&t.size&&t.size.indexOf("NaN")!=-1)return!1;if(t.collapsed)r=0;else{if(i(t.size)){p=p.add(this);return}r=parseInt(t.size,10),f(t.size)&&(r=Math.floor(r*s/100))}return it++,g+=r,r}),s-=g,h=p.length,d=Math.floor(s/h),p.slice(0,h-1).css(a,d).end().eq(h-1).css(a,s-(h-1)*d);var nt=0,tt=c?"height":"width",rt=c?"left":"top",ut=c?"offsetWidth":"offsetHeight";o.children().css(tt,o[tt]()).each(function(n,t){t.style[rt]=Math.floor(nt)+"px",nt+=t[ut]})}},t.splitter.PaneResizing=function(i){this.owner=i,new t.draggable({distance:0,owner:i.element,selector:".t-splitbar-draggable-horizontal, .t-splitbar-draggable-vertical",scope:i.element.id,start:n.proxy(this.start,this),drag:n.proxy(this.drag,this),stop:n.proxy(this.stop,this)})},t.splitter.PaneResizing.prototype={start:function(i){t.isTouch&&i.stopImmediatePropagation();var f=i.$draggable,l=f.prev(),o=f.next(),a=l.data("pane"),v=o.data("pane"),u=this.owner.orientation==="horizontal",p=u?"width":"height",w=u?"offsetWidth":"offsetHeight",y=u?"height":"width",b=t.touchLocation(i);this.positioningProperty=u?"left":"top",this.mousePositioningProperty=u?"x":"y",this.previousPane=l,this.nextPane=o,this.initialSplitBarPosition=parseInt(f[0].style[this.positioningProperty]),this.initialMousePosition=b[this.mousePositioningProperty],this.ghostSplitBar=n("<div class='t-ghost-splitbar t-ghost-splitbar-"+this.owner.orientation+" t-state-default' />").css(y,i.$draggable[y]()).css(this.positioningProperty,this.initialSplitBarPosition).appendTo(this.owner.$element);var s=parseInt(l[0].style[this.positioningProperty]),h=parseInt(o[0].style[this.positioningProperty])+o[0][w]-r,k=this.owner.$element.css(p),c=function(n){var t=parseInt(n,10);return(e(n)?t:k*t/100)||0},d=c(a.minSize),g=c(a.maxSize)||h-s,nt=c(v.minSize),tt=c(v.maxSize)||h-s;this.maxSize=Math.min(h-nt,s+g),this.minSize=Math.max(s+d,h-tt),n(document.body).css("cursor",f.css("cursor"))},drag:function(n){t.isTouch&&n.stopImmediatePropagation();var r=t.touchLocation(n),i=Math.min(this.maxSize,Math.max(this.minSize,this.initialSplitBarPosition+(r[this.mousePositioningProperty]-this.initialMousePosition)));this.ghostSplitBar.toggleClass("t-restricted-size-"+this.owner.orientation,i==this.maxSize||i==this.minSize)[0].style[this.positioningProperty]=i+"px"},stop:function(u){var f;if(t.isTouch&&u.stopImmediatePropagation(),u.keyCode!==27){var o=parseInt(this.ghostSplitBar[0].style[this.positioningProperty]),s=this.owner.orientation==="horizontal",a=s?"width":"height",v=s?"offsetWidth":"offsetHeight",e=this.previousPane.data("pane"),h=this.nextPane.data("pane"),c=o-parseInt(this.previousPane[0].style[this.positioningProperty]),l=parseInt(this.nextPane[0].style[this.positioningProperty])+this.nextPane[0][v]-o-r,y=this.owner.$element[a](),p=!t.isTouch||t.isTouch&&!isNaN(c)&&!isNaN(l);y-=r*this.owner.$element.children(".t-splitbar").length,f=this.owner.$element.children(".t-pane").filter(function(){return i(n(this).data("pane").size)}).length,(!i(e.size)||f>1)&&(i(e.size)&&f--,e.size=c+"px"),(!i(h.size)||f>1)&&(h.size=l+"px")}return this.ghostSplitBar.remove(),u.keyCode!==27&&p&&this.owner.$element.trigger("resize"),n(document.body).css("cursor",""),!1}},n.fn.tSplitter=function(n){return t.create(this,{name:"tSplitter",init:function(n,i){return new t.splitter(n,i)},options:n})},n.fn.tSplitter.defaults={orientation:"horizontal"}})(jQuery);