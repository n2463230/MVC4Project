(function(n){function r(n){var t=n.parent();return{direction:t.hasClass("t-menu")?t.hasClass("t-menu-vertical")?"right":"bottom":"right"}}function i(t,i){try{return n.contains(t,i)}catch(r){return!1}}var t=n.telerik;t.scripts.push("telerik.menu.js"),t.menu=function(i,r){this.element=i,this.nextItemZIndex=100,n.extend(this,r),n(".t-item:not(.t-state-disabled)",i).live("mouseenter",t.delegate(this,this.mouseenter),!0).live("mouseleave",t.delegate(this,this.mouseleave),!0).live("click",t.delegate(this,this.click)),n(".t-item:not(.t-state-disabled) > .t-link",i).live("mouseenter",t.hover).live("mouseleave",t.leave),n(".t-item.t-state-disabled",i).live("click",function(){return!1}),n(document).click(t.delegate(this,this.documentClick)),t.bind(this,{select:this.onSelect,open:this.onOpen,close:this.onClose,load:this.onLoad})},t.menu.prototype={toggle:function(t,i){n(t).each(function(){n(this).toggleClass("t-state-default",i).toggleClass("t-state-disabled",!i)})},enable:function(n){this.toggle(n,!0)},disable:function(n){this.toggle(n,!1)},open:function(i){var u=this;n(i).each(function(){var i=n(this);clearTimeout(i.data("timer")),i.data("timer",setTimeout(function(){var n=i.find(".t-group:first");n.length&&(t.fx.play(u.effects,n,r(i)),i.css("z-index",u.nextItemZIndex++))},100))})},close:function(i){var u=this;n(i).each(function(i,f){var e=n(f);clearTimeout(e.data("timer")),e.data("timer",setTimeout(function(){var i=e.find(".t-group:first");i.length&&(t.fx.rewind(u.effects,i,r(e),function(){e.css("zIndex",""),n(u.element).find(".t-group:visible").length==0&&(u.nextItemZIndex=100)}),i.find(".t-group").stop(!1,!0))},100))})},mouseenter:function(t,r){var u=n(r),f;(!this.openOnClick||this.clicked)&&(i(r,t.relatedTarget)||(this.triggerEvent("open",u),this.open(u),f=u.parent().closest(".t-item")[0],f&&!i(f,t.relatedTarget)&&this.mouseenter(t,f))),this.openOnClick&&this.clicked&&(this.triggerEvent("close",u),u.siblings().each(n.proxy(function(t,i){this.close(n(i))},this)))},mouseleave:function(t,r){var u,f;this.openOnClick||i(r,t.relatedTarget)||(u=n(r),this.triggerEvent("close",u),this.close(u),f=u.parent().closest(".t-item")[0],f&&!i(f,t.relatedTarget)&&this.mouseleave(t,f))},click:function(i,r){i.stopPropagation();var u=n(r);if(u.hasClass("t-state-disabled")){i.preventDefault();return}if(t.trigger(this.element,"select",{item:u[0]})){i.preventDefault();return}u.parent().hasClass("t-menu")&&this.openOnClick&&(i.preventDefault(),this.clicked=!0,this.triggerEvent("open",u),this.open(u))},documentClick:function(t){n.contains(this.element,t.target)||this.clicked&&(this.clicked=!1,n(this.element).children(".t-item").each(n.proxy(function(t,i){this.close(n(i))},this)))},hasChildren:function(n){return n.find(".t-group:first").length},triggerEvent:function(n,i){this.hasChildren(i)&&t.trigger(this.element,n,{item:i[0]})}},n.fn.tMenu=function(n){return t.create(this,{name:"tMenu",init:function(n,i){return new t.menu(n,i)},options:n})},n.fn.tMenu.defaults={orientation:"horizontal",effects:t.fx.slide.defaults(),openOnClick:!1}})(jQuery);