(function(n){var t=n.telerik;t.scripts.push("telerik.grid.reordering.js"),t.reordering={},t.reordering.initialize=function(i){function r(n,t,i){var r=n.eq(t),u=n.eq(i);r[t>i?"insertBefore":"insertAfter"](u)}i.$reorderDropCue=n('<div class="t-reorder-cue"><div class="t-icon t-arrow-down"><\/div><div class="t-icon t-arrow-up"><\/div><\/div>');var f=i.$header.children("th").length-1,u=function(t,u){var f=n.inArray(u,i.columns),e;i.columns.splice(f,1),i.columns.splice(t,0,u),r(i.$columns(),f,t),r(i.$tbody.parent().find("> colgroup > col:not(.t-group-col,.t-hierarchy-col)"),f,t),r(i.$headerWrap.find("table").find("> colgroup > col:not(.t-group-col,.t-hierarchy-col)"),f,t),e=i.$footer.find("table"),r(e.find("> colgroup > col:not(.t-group-col,.t-hierarchy-col)"),f,t),r(e.find("> tbody > tr.t-footer-template > td:not(.t-group-cell,.t-hierarchy-cell)").add(i.$footer.find("tr.t-footer-template > td:not(.t-group-cell,.t-hierarchy-cell)")),f,t),n.each(i.$tbody.children(),function(){r(n(this).find(" > td:not(.t-group-cell, .t-hierarchy-cell, .t-detail-cell)"),f,t)})};i.reorderColumn=u,new t.draggable({owner:i.$header[0],selector:".t-header:not(.t-group-cell,.t-hierarchy-cell)",scope:i.element.id+"-reodering",cue:function(n){return t.dragCue(n.$draggable.text())},destroy:function(n){n.$cue.remove()}}),new t.droppable({owner:i.$header[0],scope:i.element.id+"-reodering",selector:".t-header:not(.t-group-cell,.t-hierarchy-cell)",over:function(r){var f=n.trim(r.$draggable.text())==n.trim(r.$droppable.text()),u;t.dragCueStatus(r.$cue,f?"t-denied":"t-add"),u=0,n("> .t-grid-top, > .t-grouping-header",i.element).each(function(){u+=n(this).outerHeight()}),f||i.$reorderDropCue.css({height:r.$droppable.outerHeight(),top:u,left:function(){return r.$droppable.position().left+(r.$droppable.index()>r.$draggable.index()?r.$droppable.outerWidth():0)}}).appendTo(i.element)},out:function(n){i.$reorderDropCue.remove(),t.dragCueStatus(n.$cue,"t-denied")},drop:function(r){if(i.$reorderDropCue.remove(),r.$cue.find(".t-drag-status").is(".t-add")){var f=i.columnFromTitle(n.trim(r.$draggable.text())),e=i.$columns().index(r.$droppable.closest(".t-header"));t.trigger(i.element,"columnReorder",{column:f,oldIndex:n.inArray(f,i.columns),newIndex:e}),u(e,f),t.trigger(i.element,"repaint")}}})}})(jQuery);